@page "/logout"
@using Shop.Utilities
@inherits AuthenticationPageBase

@code {
    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();
        
        StartLoading( "Logging Out..." );
        
        await Auth.ClearState();
        await Http.TryPostRequest<bool>( Urls.ApiLogout );
        Navigation.NavigateTo( Urls.PageHome, true );
    }
}