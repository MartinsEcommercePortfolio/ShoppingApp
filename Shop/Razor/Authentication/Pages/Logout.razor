@page "/logout"
@using Shop.Utilities
@using Shop.Razor.Shared
@inherits AuthenticationPageBase
@layout  AuthenticationLayout

@code {
    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();
        
        StartLoading( "Logging Out..." );
        
        await Auth.ClearState();
        await Http.TryPostRequest<bool>( Consts.ApiLogout );
        Navigation.NavigateTo( Consts.PageHome, true );
    }
}