@page "/logout"
@using Shop.Utilities
@inherits AuthenticationPageBase
@layout  AuthenticationLayout

@code {
    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();
        
        StartLoading( "Logging Out..." );
        
        await Authentication.ClearState();
        await Http.PostAsyncAuthenticated<bool>( Consts.ApiLogout );
        Navigation.NavigateTo( Consts.PageHome, true );
    }
}